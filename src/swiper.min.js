!function(t,e,i){"use strict";"function"==typeof define&&define.amd?define(i):"undefined"!=typeof exports?module.exports=i():t[e]=i()}("undefined"!=typeof window?window:this,"Swiper",function(){function t(t){this._defaults={stage:".stage",page:".page",direction:"vertical",activeClass:"active",threshold:50,duration:300,loop:!0,elastic:3},this.options=e(this._defaults,t),this._elastic=this.options.elastic,this.$stage=document.querySelector(this.options.stage),this.$page=this.$stage.querySelectorAll(this.options.page),this.count=this.$page.length,this._width=this.$stage.offsetWidth,this._height=this.$stage.offsetHeight,this.direction=this.options.direction,this._start={},this._move={},this._end={},this._offset=0,this.prev=0,this.current=0,this.next=0,this._observer={},this.isMouseDown=!1,this._init(),this._bind()}function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t,e){if(t&&0!=t.length)for(var i=0,s=t.length;s>i;i++){var n=t[i];e(n,i,t)}}function s(){}var n=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),o=n?"touchstart":"mousedown",r=n?"touchend":"mouseup",a=n?"touchmove":"mousemove";return document.addEventListener(a,function(t){t.preventDefault}),t.prototype={_init:function(){console.log(this.direction),this._setStyle()},_bind:function(){var t=this;this.$stage.addEventListener(o,function(e){t.isMouseDown=!0,t.$stage.style["-webkit-transition"]="none",t.$stage.style.transition="none";var i=t.getPos(e);t._start.x=i.x,t._start.y=i.y}),this.$stage.addEventListener(a,function(e){if(t.isMouseDown){var i=t.getPos(e);t._move.x=i.x,t._move.y=i.y;var s=Math.floor((t._move.y-t._start.y)/t._elastic),n="translate3d(0, "+(s-t._offset)+"px, 0)";"horizontal"==t.direction&&(s=Math.floor((t._move.x-t._start.x)/t._elastic),n="translate3d("+(s-t._offset)+"px, 0, 0)"),t.$stage.style["-webkit-transform"]=n,t.$stage.style.transform=n}}),this.$stage.addEventListener(r,function(e){t.isMouseDown=!1;var i=t.getPos(e);t._end.x=i.x,t._end.y=i.y;var s=Math.floor((t._end.y-t._start.y)/t._elastic);"horizontal"==t.direction&&(s=Math.floor((t._end.x-t._start.x)/t._elastic)),s>t.options.threshold?(t.prev=t.current,t.current>0?t.current--:t.current=0):s<-t.options.threshold&&(t.prev=t.current,t.current<t.count-1?t.current++:t.current=t.count-1),t.move(t.current)}),this.$stage.addEventListener("webkitTransitionEnd",function(e){if(e.target!==t.$stage)return!1;var i=t._observer.moveend||s;i.apply(t,[t.prev,t.current]),e.preventDefault})},move:function(t){var e=this.options.duration+"ms",i=t*this._height;this._offset=i;var s="translate3d(0, -"+i+"px, 0)";"horizontal"==this.direction&&(i=t*this._width,this._offset=i,s="translate3d(-"+i+"px, 0, 0)"),this.$stage.style["-webkit-transition"]=e,this.$stage.style.transition=e,this.$stage.style["-webkit-transform"]=s,this.$stage.style.transform=s},getPos:function(t){var e={};return e.target=t.changedTouches?t.changedTouches[0].target:t.target,e.x=t.changedTouches?t.changedTouches[0].pageX:t.pageX,e.y=t.changedTouches?t.changedTouches[0].pageY:t.pageY,e},_setStyle:function(){var t=this,e=this._width,s=this._height*this.count;"horizontal"==this.direction&&(e=this._width*this.count,s=this._height),this.$stage.style.width=e+"px",this.$stage.style.height=s+"px",i(this.$page,function(e,i){e.style.width=t._width+"px",e.style.height=t._height+"px","horizontal"==t.direction&&(e.style["float"]="left")})},on:function(t,e){if(this._observer[t])throw new Error("event "+t+" is already register");if("function"!=typeof e)throw new Error("cb must be a function!");return this._observer[t]=e,this}},t});